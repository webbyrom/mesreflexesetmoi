/**
 * @preserve
 * @author    ThemePunch <info@themepunch.com>
 * @link      http://www.themepunch.com/
 * @copyright 2018 ThemePunch
 * @version 6.7.0
 */
!function(){"use strict";if(window.SR7??={},window._tpt??={},SR7.A??={},SR7.F??={},SR7.D??={},void 0!==SR7.A.liquideffect)return;SR7.A.liquideffect={init:t=>(SR7.M[t].c.moduleListeners??={},SR7.M[t].c.moduleListeners.liquideffect??={},_tpt.scrollObserver.observe(SR7.M[t].c.module),SR7.A.liquideffect.listeners.init(t),["THREE","WEBGL"]),getModuleBasics:(t={},e)=>({u:"compare"==e?void 0:t.u??t.enable??!0}),getLayerBasics:(t={},e)=>{let a={u:"compare"==e?void 0:t.u??t.enable??!0,a:{u:t.a?.u??t.animation?.enable??!0,rz:t.a?.rz??t.animation?.rotation??0,sx:t.a?.sx??t.animation?.scalex??0,sy:t.a?.sy??t.animation?.scaley??0,spx:t.a?.spx??t.animation?.speedx??0,spy:t.a?.spy??t.animation?.speedy??0},map:{image:t.map?.image??"Ripple",c:t.map?.c??t.map?.custom??"",s:t.map?.s??t.map?.size??"Large",is:t.map?.is??t.map?.imagescale??120},tran:{u:t.tran?.u??t.transition?.enable??!1,d:t.tran?.d??t.transition?.duration??1e3,e:t.tran?.e??t.transition?.easing??"Power3.easeOut",spx:t.tran?.spx??t.transition?.speedx??2,spy:t.tran?.spy??t.transition?.speedy??100,rz:t.tran?.rz??t.transition?.rotation??0,sx:t.tran?.sx??t.transition?.scalex??2,sy:t.tran?.sy??t.transition?.scaley??1280,p:t.tran?.p??t.transition?.power??!1},inter:{u:t.inter?.u??t.interaction?.enable??!1,event:t.inter?.event??t.interaction?.event??"mousemove",d:t.inter?.d??t.interaction?.duration??500,e:t.inter?.e??t.interaction?.easing??"Power2.easeOut",spx:t.inter?.spx??t.interaction?.speedx??0,spy:t.inter?.spy??t.interaction?.speedy??0,rz:t.inter?.rz??t.interaction?.rotation??0,scx:t.inter?.scx??t.interaction?.scalex??2,scy:t.inter?.scy??t.interaction?.scaley??1280,dmobile:t.inter?.dmobile??t.interaction?.disablemobile??!1}};return"normalize"==e&&(a.map.image=a.map.image.toLowerCase(),a.map.s=a.map.s.toLowerCase()),a},prepareLayer:(t,e,a)=>{if(""+(SR7.M[t].settings?.addOns?.liquideffect?.u??!1)=="false")return;if(!e.addOns?.liquideffect?.u)return;let{c:i}=SR7.F.getLayer(a);const s=[],n=SR7.A.liquideffect;i.addOns??={},i.addOns.liquideffect??={},i.addOns.liquideffect.settings=n.getLayerBasics(e.addOns.liquideffect,"normalize");let r=i.addOns.liquideffect.settings;return r.P=r.map.image.includes("custom")?r.map.c:SR7.E.resources.liquidEffectURL+"public/textures/"+r.map.image+"_"+r.map.s+".jpg",s.push(new Promise((e=>{_tpt.registerImage(r.P,1,(function(t){try{n.textures??={},n.textures[t.params.lmapid]=t.image}catch(t){console.log(t)}e()}),"distortion_textures_"+r.map.image+"_"+t,{lmapid:r.P})}))),s},toggle:t=>{let e=SR7.A.liquideffect;const a=SR7.M[t];if(e.onFire)for(let i in e.onFire[t])_tpt.hop(e.onFire[t],i)&&(a.states.inViewPort?e.play(t,a.c.layers[i]):e.pause(t,a.c.layers[i],!1))},play:(t,e,a)=>{let i=SR7.A.liquideffect,s=e?.addOns?.liquideffect??void 0;s&&(s.paused=!1,i.onFire[t]??={},i.onFire[t][e.el.id]=!0,s.source.style.display="none",requestAnimationFrame((t=>{i.tick(e,t)})),s.settings.tran.u&&l(e),o.init(e,!0))},pause:(t,e,a)=>{let i=e?.addOns?.liquideffect??void 0;i&&(e.addOns.liquideffect.paused=!0,a&&i?.onFire?.[t]?.[e.el.id]&&delete i.onFire[t][e.el.id],o.init(e,!1))},listeners:{init:t=>{let e=SR7.A.liquideffect;e.listenersAdded?.[t]||(e.listenersAdded||(e.onFire??={},e.onFire[t]??={},document.addEventListener("sr.layer.action",(function(i){if(!i.c?.addOns?.liquideffect?.settings?.u)return;let s=i.c.addOns.liquideffect;"enterstage"==i.eventtype?(s.inAnimation=!0,s.source=i.c.aCanvas.canvas,requestAnimationFrame((()=>{e.build(i.id,i.c)}))):"enteredstage"==i.eventtype?(i.c.media&&"html5"==i.c.media.player.options.type&&i.c.media.startCanvas(i.c.canvas),s.inAnimation=!1,s.source=s.video?i.c.media.player.canvas.canvas:i.c.canvas.canvas,s.source.style.display="none",a(i.c)):"leftstage"==i.eventtype&&(requestAnimationFrame((()=>{n(t)})),e.pause(i.id,i.c,!0))}))),e.listenersAdded??={},e.listenersAdded[t]=!0)}},tick:(t,e)=>{t.lastTime||(t.lastTime=e);const a=e-t.lastTime;t.lastTime=e;let i=t.addOns.liquideffect;if(i.paused)return;const s=a/16.66;i.three.material.uniforms.aniSpeedX.value+=i.animatedProgress.axsp.value*s,i.three.material.uniforms.aniSpeedY.value+=i.animatedProgress.aysp.value*s,i.three.material.uniforms.rotation.value+=i.animatedProgress.arsp.value*s,SR7.A.liquideffect.sceneUpdate(t),requestAnimationFrame((e=>{SR7.A.liquideffect.tick(t,e)}))},sceneUpdate:e=>{let i=e.addOns.liquideffect;i&&i.three&&i.three.canvas&&i.three.camera&&(void 0!==i.three.lastDim&&i.three.lastDim.width===e.cw&&i.three.lastDim.height===e.ch||(i.width=e.cw,i.height=e.ch,a(e),t(i),i.three.lastDim={width:i.width,height:i.height}),(i.video||i.panzoom||i.inAnimation)&&(i.three.texture.needsUpdate=!0),i.three.camera.updateProjectionMatrix(),i.three.renderer.render(i.three.scene,i.three.camera))},build:(i,s)=>{let n=s.addOns.liquideffect,o=n.settings;n.three&&SR7.WEBGL.cleanThree(s.el,n,".sr7-liquid-canvas"),n.panzoom=s.canvas.pan,n.video=s.media,n.three=SR7.WEBGL.getCanvas({class:"sr7-liquid-canvas"}),s.el.appendChild(n.three.canvas),n.width=s.cw,n.height=s.ch,n.three.planeAspectRatio=16/9,n.three.fov=150,SR7.A.liquideffect.sceneUpdate(s),n.three.renderer=new THREE.WebGLRenderer({canvas:n.three.canvas,alpha:!0}),n.three.renderer.setClearColor(16777215,0),n.three.camera=new THREE.PerspectiveCamera(150,n.three.canvas.width/n.three.canvas.height,.1,1e3),n.three.camera.position.z=50,n.three.scene=new THREE.Scene;const{three:d}=n,{camera:l,scene:u}=d;d.CY=1/l.aspect,u.remove(d.light),u.add(d.light=new THREE.AmbientLight("#ffffff",1)),a(s),n.isLarge="large"==o.map.s,n.isCustom=(""+o.map.image).includes("custom map"),n.animatedProgress={axsp:{value:parseFloat(n.settings.a.spx).toFixed(2)/50*.01*(n.isLarge&&n.isCustom||!n.isLarge&&!n.isCustom?5:1.8)},aysp:{value:parseFloat(n.settings.a.spy).toFixed(2)/50*.01*(n.isLarge&&n.isCustom||!n.isLarge&&!n.isCustom?5:1.8)},arsp:{value:.01*parseFloat(n.settings.a.rz).toFixed(2)}},n.mouseAniTimer,n.tLStarted=!1;let p=r(n);p.image.value.needsUpdate=!0;const c={extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:THREE.DoubleSide,uniforms:p,vertexShader:"varying vec2 vUv;void main() {vUv = uv;gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );}",fragmentShader:"#if __VERSION__ < 130 \n#define TEXTURE2D TEXTURE2D \n#else \n#define TEXTURE2D texture \n#endif\n \n\t\t\t\t\tuniform float scalex;                    \n\t\t\t\t\tuniform float scaley;                    \n\t\t\t\t\tuniform float aniSpeedX;\n\t\t\t\t\tuniform float aniSpeedY;\n\t\t\t\t\tuniform float aniDistX;\n\t\t\t\t\tuniform float aniDistY;\n\t\t\t\t\tuniform float rotation;\n\t\t\t\t\tuniform sampler2D image;\n\t\t\t\t\tuniform sampler2D displacement;\n\t\t\t\t\tuniform vec4 resolution;\n\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\tuniform float zoom;\n\n\t\t\t\t\tvec2 rotate(vec2 uv, float rotation) {\n\t\t\t\t\t\tuv -= vec2(0.5); // Step 1: Translate to origin\n\t\t\t\t\t\tuv = vec2(\n\t\t\t\t\t\t\tcos(rotation) * uv.x - sin(rotation) * uv.y,\n\t\t\t\t\t\t\tsin(rotation) * uv.x + cos(rotation) * uv.y\n\t\t\t\t\t\t);\n\t\t\t\t\t\tuv += vec2(0.5); // Step 3: Translate back to original position\n\t\t\t\t\t\treturn uv;\n\t\t\t\t\t}\n\n\t\t\t\t\tvec2 scaleUV(vec2 uv, vec2 scale) {\n\t\t\t\t\t\tuv -= vec2(0.5); \n\t\t\t\t\t\tuv /= scale; \n\t\t\t\t\t\tuv += vec2(0.5); \n\t\t\t\t\t\treturn uv;\n\t\t\t\t\t}\n\n\t\t\t\t\tvec2 upscaleUV(vec2 uv, vec2 scale) {\n\t\t\t\t\t\tuv -= vec2(0.5); \n\t\t\t\t\t\tuv *= scale; \n\t\t\t\t\t\tuv += vec2(0.5); \n\t\t\t\t\t\treturn uv;\n\t\t\t\t\t}\n\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tvec2 newUV = (vUv - vec2(0.5)) * resolution.zw + vec2(0.5);                                                                   \n\t\t\t\t\t\tvec2 centeredUv = newUV - vec2(0.5, 0.5);                        \n\t\t\t\t\t\tcenteredUv = centeredUv * vec2(scalex, scaley);                    \n\t\t\t\t\t\tnewUV = centeredUv + vec2(0.5, 0.5) + vec2(-aniSpeedX, aniSpeedY); \n\n\t\t\t\t\t\tvec2 rotatedUvForDisplacement = rotate(newUV, rotation);\n\t\t\t\t\t\t\n\t\t\t\t\t\tvec4 outputMap= TEXTURE2D(displacement, rotatedUvForDisplacement);\n\t\t\t\t\t\tfloat disTexture = outputMap.r;\n\n\t\t\t\t\t\tvec2 distortedUv = vUv + (disTexture - 1.0) * vec2(0.0005 * aniDistX, -0.0005 * aniDistY);\n\t\t\t\t\t\tdistortedUv += vec2(0.00025 * aniDistX, -0.00025 * aniDistY);\n\t\t\t\t\t\tdistortedUv = distortedUv * zoom + vec2(0.5 * (1.0 - zoom), 0.5 * (1.0 - zoom));\n\t\t\t\t\t\tvec4 outputColor = TEXTURE2D(image, distortedUv);\n\t\t\t\t\t\t\n\t\t\t\t\t\t//gl_FragColor = outputMap;\n\t\t\t\t\t\tgl_FragColor = outputColor;\n\t\t\t\t\t\t//gl_FragColor = vec4(outputMap.r);\n\t\t\t\t\t}\n\t\t\t\t\t",uniformsNeedUpdate:!0};delete p.defines,n.three.material=new THREE.ShaderMaterial(c),n.three.material.transparent=!0,t(n),e(n),SR7.A.liquideffect.play(i,s,!0)}};const t=t=>{t.three.plane=SR7.WEBGL.getPlane(t.three.material),t.three.scene.add(t.three.plane),s(t)},e=t=>{t.three.material.uniforms.resolution.value.x=t.width/_tpt.dpr,t.three.material.uniforms.resolution.value.y=t.height/_tpt.dpr,t.three.material.uniforms.resolution.value.z=1,t.three.material.uniforms.resolution.value.w=1,t.three.imageAspect=t.three.texture.image.height/t.three.texture.image.width,t.video||t.panzoom||(t.height/t.width>t.three.imageAspect?t.three.material.uniforms.resolution.value.z=t.width/t.height*t.three.imageAspect:t.three.material.uniforms.resolution.value.w=t.height/t.width/t.three.imageAspect)},a=t=>{let e=t.addOns.liquideffect;e.settings;e.three.texture?e.three.texture.image=e.source:(e.three.texture=new THREE.CanvasTexture(e.source),e.three.texture.wrapS=THREE.RepeatWrapping,e.three.texture.wrapT=THREE.RepeatWrapping,e.three.texture.repeat.set(1,1)),e.three.texture.needsUpdate=!0},i=t=>{let e=new THREE.Texture(SR7.A.liquideffect.textures[t]);return e.image=SR7.A.liquideffect.textures[t],e.needsUpdate=!0,e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,e.repeat.set(1,1),e},s=t=>{t.three.lastDim={width:t.width,height:t.height},t.three.camera.aspect=t.width/t.height,t.three.CY=1/t.three.camera.aspect,t.three.camera.updateProjectionMatrix(),t.three.renderer.setSize(t.width*_tpt.dpr,t.height*_tpt.dpr,!1),t.three.plane&&t.three.plane.scale.set(1,t.three.CY),t.three.camera.fov=2*Math.atan(t.three.CY/(2*t.three.camera.position.z))*(180/Math.PI),t.three.camera.updateProjectionMatrix()},n=t=>{let e=SR7.M[t].c.leavingBG;e&&e?.addOns?.liquideffect?.settings?.u&&(e.addOns.liquideffect.paused=!0,SR7.WEBGL.cleanThree(e.el,e.addOns.liquideffect,".sr7-liquid-canvas"))},r=t=>{var e=t.isLarge||t.isCustom?t.isLarge&&t.isCustom?1.1:.425:1.8;return{displacement:{value:i(t.settings.P)},image:{value:t.three.texture},aniSpeedX:{value:0},aniSpeedY:{value:0},aniDistX:{value:parseFloat(t.settings.a.sx).toFixed(2)},aniDistY:{value:parseFloat(t.settings.a.sy).toFixed(2)},rotation:{value:0},scaley:{value:t.height/_tpt.dpr/(t.width/_tpt.dpr)*e},scalex:{value:e},zoom:{value:100/parseFloat(t.settings.map.is).toFixed(2)},resolution:{value:new THREE.Vector4}}},o={init:(t,e)=>{let a=t.addOns.liquideffect;a.settings.inter.u&&(a.three.canvas[e?"addEventListener":"removeEventListener"]("mouseenter",(function(e){o.enter(e,t)})),a.three.canvas[e?"addEventListener":"removeEventListener"]("mousemove",(function(e){o.move(e,t)})))},enter:(t,e)=>{let a=e.addOns.liquideffect;a.entered=!0,a.t=Date.now()},move:(t,e)=>{let a=e.addOns.liquideffect;a.entered?(void 0===a.tLStarted||a.tLStarted||(a.mouseTL=u(a,{rz:.01*(parseFloat(a.settings.a.rz)+parseFloat(a.settings.inter.rz)),spx:(parseFloat(a.settings.a.spx)+parseFloat(a.settings.inter.spx))/50*.01*(a.isLarge&&a.isCustom?7:a.isLarge||a.isCustom?1.8:5),spy:(parseFloat(a.settings.a.spy)+parseFloat(a.settings.inter.spy))/50*.01*(a.isLarge&&a.isCustom?7:a.isLarge||a.isCustom?1.8:5),sx:Math.max(parseFloat(a.settings.a.sx)+parseFloat(a.settings.inter.scx))*(a.isLarge&&a.isCustom||!a.isLarge&&!a.isCustom?3:1.5),sy:Math.max(parseFloat(a.settings.a.sy)+parseFloat(a.settings.inter.scy))*(a.isLarge&&a.isCustom||!a.isLarge&&!a.isCustom?3:1.5),e:a.settings.inter.e,t:a.settings.inter.d/500}),a.mouseTL.play()),d(e,a.settings.inter.d/100),a.tLStarted=!0,a.frame||(a.frame=t=>{a.frame=window.cancelAnimationFrame(a.frame)}),requestAnimationFrame(a.frame)):o.enter(t,e)}},d=(t,e)=>{let a=t.addOns.liquideffect;clearTimeout(a.mouseAniTimer),a.mouseAniTimer=setTimeout((()=>{a.tLStarted=!1,a.resetTL=u(a,{rz:.01*parseFloat(a.settings.a.rz),spx:parseFloat(a.settings.a.spx).toFixed(2)/50*.01,spy:parseFloat(a.settings.a.spy).toFixed(2)/50*.01,sx:parseFloat(a.settings.a.sx),sy:parseFloat(a.settings.a.sy),e:a.settings.inter.e,t:a.settings.inter.d/500}),a.resetTL.play()}),e)},l=t=>{let e=t.addOns.liquideffect;e.tranTL=u(e,{rz:.01*(parseFloat(e.settings.a.rz)+parseFloat(e.settings.tran.rz)),spx:(parseFloat(e.settings.a.spx)+parseFloat(e.settings.tran.spx))/50*.01*(e.isLarge&&e.isCustom?7:e.isLarge||e.isCustom?1.8:5),spy:(parseFloat(e.settings.a.spy)+parseFloat(e.settings.tran.spy))/50*.01*(e.isLarge&&e.isCustom?7:e.isLarge||e.isCustom?1.8:5),sx:Math.max(parseFloat(e.settings.a.sx)+parseFloat(e.settings.tran.sx))*(e.isLarge&&e.isCustom||!e.isLarge&&!e.isCustom?3:1),sy:Math.max(parseFloat(e.settings.a.sy)+parseFloat(e.settings.tran.sy))*(e.isLarge&&e.isCustom||!e.isLarge&&!e.isCustom?3:1),e:e.settings.tran.e,t:e.settings.tran.d/5e3}),e.tranTL.play(),e.tranTL.eventCallback("onComplete",(t=>{t.resetTL=u(t,{rz:.01*parseFloat(t.settings.a.rz),spx:parseFloat(t.settings.a.spx).toFixed(2)/50*.01,spy:parseFloat(t.settings.a.spy).toFixed(2)/50*.01,sx:parseFloat(t.settings.a.sx),sy:parseFloat(t.settings.a.sy),e:t.settings.inter.e,t:t.settings.inter.d/500}),t.resetTL.play()}),[e])},u=(t,e)=>{e.e??="none";let a=_tpt.gsap.timeline({paused:!0});return a.add(_tpt.gsap.to(t.animatedProgress.arsp,{value:e.rz,ease:e.e,duration:e.t}),0),a.add(_tpt.gsap.to(t.animatedProgress.axsp,{value:e.spx,ease:e.e,duration:e.t}),0),a.add(_tpt.gsap.to(t.animatedProgress.aysp,{value:e.spy,ease:e.e,duration:e.t}),0),a.add(_tpt.gsap.to(t.three.material.uniforms.aniDistX,{value:e.sx,ease:e.e,duration:e.t}),0),a.add(_tpt.gsap.to(t.three.material.uniforms.aniDistY,{value:e.sy,ease:e.e,duration:e.t}),0),a};_tpt.R??={},_tpt.R.liquideffect=_tpt.extend?_tpt.extend(_tpt.R.liquideffect,{status:2,version:"1.0"}):{status:2,version:"1.0"},window.dispatchEvent(new CustomEvent("SR7DuotoneFiltersReady"))}();