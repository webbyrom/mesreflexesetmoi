/**
 * @preserve
 * @name 	  Slider Revolution ShapeBurst AddOn
 * @author    ThemePunch <info@themepunch.com>
 * @link      http://www.themepunch.com/
 * @copyright 2022 ThemePunch
 * @version   6.7.0
 */
!function(e){var t={},a="revslider-shapeburst-addon",s=revslider_shapeburst_addon.bricks,i=[];function d(e){return e.ds=e.ds||{},e.evt&&(e.ds.evt=e.evt),e.evtparam&&(e.ds.evtparam=e.evtparam),e.num&&(e.ds.numeric="true"),e.allowed&&(e.ds.allowed=e.allowed),e.presets&&(e.ds.presets_text=e.presets.text,e.ds.presets_val=e.presets.val),e.ds.r="addOns.revslider-shapeburst-addon."+(e.r||e.id),e.steps&&(e.ds.steps=e.steps),void 0!==e.min&&(e.ds.min=e.min),void 0!==e.max&&(e.ds.max=e.max),void 0!==e.min&&void 0!==e.max&&(e.ds.numeric="true"),e.ds}function r(e){if(null==e)return!1;let t=RVS.F.cE({t:"ui"===e.type?"label_icon":"i"===e.type?"i":"label_a",id:e.id});return e.cN&&(e.cN=" "+e.cN),t.className="i"===e.type?"label_icon material-icons"+(e.cN||""):"ui"===e.type?e.c+(e.cN||""):e.cN||"",e.c&&"ui"!==e.type&&(t.innerText=e.c),t}function n(e){if(e.cN="layerinput smallinput easyinit"+(void 0!==e.evt&&""!==e.evt?" callEvent":"")+(e.num?" valueduekeyboard":"")+(e.presets?" input_with_presets":"")+(e.cN?" "+e.cN:"")+(e.dyn?" rsdyn_inp":""),e.vslider){var t=RVS.F.cE({cN:"withvalslider"});return t.appendChild(RVS.F.cE({t:"input",id:"wpsaddon_"+e.id,type:e.type||"text",cN:e.cN,ds:d(e)})),t}return RVS.F.cE({t:"input",id:"wpsaddon_"+e.id,type:e.type||"text",cN:e.cN,ds:d(e)})}function l(e){let t=function(e){"materialicon"==e.labeltype||e.labeltype;let t={d:RVS.F.cE({t:"div",cN:e.cN}),l:void 0!==e.label?r(e.label):void 0};return t.l&&t.d.appendChild(t.l),t}({label:e.label,id:e.id,cN:e.cN,sCN:e.sCN,lCN:e.lCN});return e.input&&(t.d.appendChild(n(e.input)),e.input.dyn&&t.d.classList.add("dyn_inp_wrap")),t.d}function o(e){let t=RVS.F.cE({t:"div",id:"wpsaddon_"+e.id,cN:e.cN}),a=r(e.label),s=RVS.F.cE({t:"select",id:"wpsaddon_"+e.select.id,cN:"layerinput tos2 nosearchbox easyinit callEvent"+(e.select.cN?" "+e.select.cN:""),ds:d(e.select)});if(a&&t.appendChild(a),void 0!==e.select.o&&e.select.o.length>0)for(var i in e.select.o)s.appendChild(RVS.F.CO(e.select.o[i].v,e.select.o[i].t));return t.appendChild(s),t}function p(e){var t={wrap:RVS.F.cE({id:e.id,cN:"ssm_content"+(void 0!==e.cn?" "+e.cn:"")})};return!1!==e.title&&t.wrap.appendChild(RVS.F.cE({cN:"form_inner_header",con:e.con,icon:{cN:"material-icons",c:e.icon}})),t.iwrap=RVS.F.cE({}),t.wrap.appendChild(t.iwrap),!1!==e.title?t.iwrap.style.paddingTop="20px":t.iwrap.style.paddingTop="0px",t.iwrap.style.paddingLeft="20px",t.iwrap.style.paddingBottom="20px",t.iwrap.style.paddingRight="20px",t}RVS.DOC.on(a+"_init",(function(){if(t.initialised)t.initialised||(punchgs.TweenLite.set(t.forms.layericon,{display:"none"}),e(t.forms.layericon).removeClass("selected"),t.forms.layer.addClass("collapsed"),e("body").addClass("shapeburst-disabled"),"undefined"!=typeof HelpGuide&&HelpGuide.deactivate("shapeburst_addon"));else{if(null==RVS._R||null==RVS._R.shapeBurstBuild)return void setTimeout((function(){jQuery.getScript(RVS.ENV.wp_plugin_url+a+"/sr6/assets/js/revolution.addon.shapeburst.min.js",(function(){RVS.F.showAddonInfos(a),triggerUpdateDisplay=!0})).fail((function(e,t,a){console.error("Failed to load plugin file with error: ",a)})),RVS.DOC.trigger(a+"_init")}),100);RVS.F.addOnContainer.create({slug:a,icon:"snowing",title:s.shapeburst,alias:s.shapeburst,layer:!0}),t.forms={layergeneral:e("#form_layerinner_"+a),layericon:e("#gst_layer_"+a),layer:e("#form_layer_"+a)},function(){let e=document.createDocumentFragment();t.defaults={},t.customs=void 0===revslider_shapeburst_addon.custom_templates?{}:revslider_shapeburst_addon.custom_templates;var i=RVS.F.createPresets({groupid:"shapeburst_templates",title:s.presetslib,customevt:"shapeburst_ajax_calls",groups:{defaults:{title:s.defaultpres,elements:t.defaults},custom:{title:s.custompres,elements:t.customs}},onclick:u.presets}),d='<div  id="shapeburst_form_wrap" style="display:block !important">';d+='<div style="padding:20px">',d+=i,d+='<div id="shapeburst-tab-2" class="settingsmenu_wrapbtn"><div data-inside="#shapeburst_form_wrap" data-hidessm=".shapeburstssm" data-showssm="#shapeburst_main" class="ssmbtn selected">'+s.sbMain+"</div></div>",d+='<div id="shapeburst-tab-3" class="settingsmenu_wrapbtn"><div data-inside="#shapeburst_form_wrap" data-hidessm=".shapeburstssm" data-showssm="#shapeburst_particles" class="ssmbtn">'+s.sbParticles+"</div></div>",d+='<div id="shapeburst-tab-4" class="settingsmenu_wrapbtn"><div data-inside="#shapeburst_form_wrap" data-hidessm=".shapeburstssm" data-showssm="#shapeburst_inter" class="ssmbtn">'+s.sbInter+"</div></div>",d+='<div id="shapeburst-tab-5" class="settingsmenu_wrapbtn"><div data-inside="#shapeburst_form_wrap" data-hidessm=".shapeburstssm" data-showssm="#shapeburst_trans" class="ssmbtn">'+s.sbTrans+"</div></div>",d+='<div id="shapeburst-tab-6" class="settingsmenu_wrapbtn"><div data-inside="#shapeburst_form_wrap" data-hidessm=".shapeburstssm" data-showssm="#shapeburst_fx" class="ssmbtn">'+s.sbFX+"</div></div>",d+="</div>",e.appendChild(RVS.F.cE({cN:"form_inner_header",con:s.shapeburstdatt,icon:{cN:"material-icons",c:"snowing"}})),e.appendChild(jQuery(d)[0]);let r=p({id:"shapeburst_main",icon:"snowing",con:s.shapeburstdatt,cn:"selected shapeburstssm",title:!1}),n=p({id:"shapeburst_particles",icon:"snowing",con:s.shapeburstdatt,cn:"shapeburstssm",title:!1}),c=p({id:"shapeburst_inter",icon:"snowing",con:s.shapeburstdatt,cn:"shapeburstssm",title:!1}),m=p({id:"shapeburst_trans",icon:"snowing",con:s.shapeburstdatt,cn:"shapeburstssm",title:!1}),h=p({id:"shapeburst_fx",icon:"snowing",con:s.shapeburstdatt,cn:"shapeburstssm",title:!1});r.iwrap.appendChild(o({id:"imgSource",label:{type:"a",c:s.imgSource},select:{id:"imgSource",cN:"",o:[{v:"image",t:s.image},{v:"text",t:s.text}],ds:{evt:"shapeburstupdate",evtparam:"imgSource",theme:"dark",show:".imgSource_*val*_show",hide:".imgSource_*val*_hide",showprio:"show"}},cN:" "}));let b=RVS.F.cE({cN:"imgSource_image_show imgSource_text_hide"});b.appendChild(jQuery('<row style="margin-bottom:15px" class="direktrow"><onelong><label_a>'+s.image+'</label_a><div class="miniprevimage_wrap"><i class="material-icons">filter_hdr</i><div id="shapeburstbg_svg"></div><div data-evt="updateshapeburstbg" data-r="addOns.revslider-shapeburst-addon.parbackground" data-rid="addOns.revslider-shapeburst-addon.parbackgroundid"  data-default="default" class="resettodefault basic_action_button callEventButton layerinput onlyicon"><i class="material-icons">close</i></div></div></onelong><oneshort><div data-evt="updateshapeburstbg" data-r="addOns.revslider-shapeburst-addon.parbackground" data-rid="addOns.revslider-shapeburst-addon.parbackgroundid" class="getImageFromMediaLibrary basic_action_button  layerinput callEventButton"><i class="material-icons">style</i>'+s.image+"</div></oneshort></row>")[0]),b.appendChild(o({id:"sbbgfitDDM",label:{type:"a",c:s.imgSize},select:{id:"imgSize",cN:"",o:[{v:"cover",t:s.cover},{v:"contain",t:s.contain}],ds:{evt:"shapeburstupdate",evtparam:"imgSize",theme:"dark",show:".imgSize_*val*_show",hide:".imgSize_*val*_hide",showprio:"show"}},cN:" "})),b.appendChild(o({id:"sbbgposDDM",label:{type:"a",c:s.bspos},select:{id:"bspos",cN:"",o:[{v:"left top"},{v:"center top"},{v:"right top"},{v:"left center"},{v:"center center"},{v:"right center"},{v:"left bottom"},{v:"center bottom"},{v:"right bottom"}],ds:{evt:"shapeburstupdate",unselect:".wpsaddon_bspos_selector",select:"#wpsaddon_bspos_*val*",evtparam:"bspos",theme:"dark",showprio:"hide"}},cN:"imgSize_cover_hide imgSize_stretch_hide imgSize_contain_hide"})),b.appendChild(jQuery(`\n\t\t\t\t\t\t<div class="">\n\t\t\t\t\t\t\t<div class="bgalign_wrap bgfit_cover_show bgfit_stretch_hide bgfit_contain_hide">\n\t\t\t\t\t\t\t\t<label_a>${s.position}</label_a>\n\t\t\t\t\t\t\t\t<div class="bg_alignselector_wrap">\n\t\t\t\t\t\t\t\t\t<div class="bg_align_row">\n\t\t\t\t\t\t\t\t\t\t<div class="triggerselect wpsaddon_bspos_selector bg_alignselector" data-select="#wpsaddon_bspos" data-val="left top" id="wpsaddon_bspos_left-top"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="triggerselect wpsaddon_bspos_selector bg_alignselector" data-select="#wpsaddon_bspos" data-val="center top" id="wpsaddon_bspos_center-top"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="triggerselect wpsaddon_bspos_selector bg_alignselector" data-select="#wpsaddon_bspos" data-val="right top" id="wpsaddon_bspos_right-top"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="bg_align_row">\n\t\t\t\t\t\t\t\t\t\t<div class="triggerselect wpsaddon_bspos_selector bg_alignselector" data-select="#wpsaddon_bspos" data-val="left center" id="wpsaddon_bspos_left-center"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="triggerselect wpsaddon_bspos_selector bg_alignselector" data-select="#wpsaddon_bspos" data-val="center center" id="wpsaddon_bspos_center-center"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="triggerselect wpsaddon_bspos_selector bg_alignselector" data-select="#wpsaddon_bspos" data-val="right center" id="wpsaddon_bspos_right-center"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="bg_align_row">\n\t\t\t\t\t\t\t\t\t\t<div class="triggerselect wpsaddon_bspos_selector bg_alignselector" data-select="#wpsaddon_bspos" data-val="left bottom" id="wpsaddon_bspos_left-bottom"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="triggerselect wpsaddon_bspos_selector bg_alignselector" data-select="#wpsaddon_bspos" data-val="center bottom" id="wpsaddon_bspos_center-bottom"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="triggerselect wpsaddon_bspos_selector bg_alignselector" data-select="#wpsaddon_bspos" data-val="right bottom" id="wpsaddon_bspos_right-bottom"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`)[0]),b.appendChild(RVS.F.cE({cN:"form_inner_header form_inside_title",con:s.imageHeader,icon:{cN:"material-icons",c:"tune"}})),b.appendChild(l({label:{type:"a",c:s.colorTrue},input:{id:"colorTrue",type:"checkbox",evt:"shapeburstparamupdate",evtparam:"colorTrue",ds:{showhide:".colorTrue_showhide",showhidedep:"true"}},cN:""})),b.appendChild(l({label:{type:"a",c:s.luminaBoost},input:{vslider:!0,id:"luminaBoost",evtparam:"luminaBoost",min:0,max:100,num:!0,steps:1,evt:"shapeburstparamupdate",allowed:" "}})),r.iwrap.appendChild(b);let v=RVS.F.cE({cN:"imgSource_image_hide imgSource_text_show"});if(v.appendChild(RVS.F.cE({cN:"form_inner_header form_inside_title",con:s.textHeader,icon:{cN:"material-icons",c:"tune"}})),null==RVS.S.fontfamilyopts)for(var S in RVS.S.fontfamilyopts="",RVS.LIB.FONTS)RVS.LIB.FONTS.hasOwnProperty(S)&&"Dont Show Me"!==RVS.LIB.FONTS[S].label&&(RVS.S.fontfamilyopts+='<option value="'+RVS.LIB.FONTS[S].label+'">'+RVS.LIB.FONTS[S].label+"</option>");v.appendChild(jQuery(`\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label_a>${s.text}</label_a><input class="layerinput smallinput easyinit callEvent" data-evt="shapeburstupdate" data-r="addOns.${a}.textInput"  type="text">\n\t\t\t\t\t\t\t<label_a>${s.textFont}</label_a><select id="wpsaddon_textFont" class="layerinput easyinit searchbox tos2" data-evt="updateFontFamilySBurst" data-evtparam="labels" data-theme="fontfamily" data-r="addOns.${a}.textFont">${RVS.S.fontfamilyopts}</select>\n\t\t\t\t\t\t\t<label_a>${s.textFontWeight}</label_a><select id="wpsaddon_textFontWeight" data-evt="updateFontFamilySBurst" class="layerinput tos2 nosearchbox easyinit"  data-r="addOns.${a}.textFontWeight"><option value="100">100 Thin</option><option value="200">200 Extra-Light</option><option value="300">300 Light</option><option selected="selected" value="400">400 Regular</option><option value="500">500 Medium</option><option value="600">600 Semi-Bold </option><option value="700">700 Bold</option><option value="800">800 Extra-Bold</option><option value="900">900 Black</option></select>\n\t\t\t\t\t\t\t<row class="directrow">\n\t\t\t\t\t\t\t\t<onelong><label_icon class="ui_bg"></label_icon><input class="layerinput my-color-field easyinit callEvent" data-evt="shapeburstupdate" data-visible="true" data-editing="Charts Label Color" name="charts_label_color" data-mode="single" data-r="addOns.${a}.textColor" type="text"></onelong>\n\t\t\t\t\t\t\t</row>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`)[0]),r.iwrap.appendChild(v),r.iwrap.appendChild(l({label:{type:"a",c:s.darkLimit},input:{vslider:!0,id:"darkLimit",evtparam:"darkLimit",min:0,max:100,num:!0,steps:1,evt:"shapeburstupdate",allowed:" "}})),n.iwrap.appendChild(l({label:{type:"a",c:s.amount},input:{vslider:!0,id:"particlesCount",evtparam:"particlesCount",min:1e3,max:8e4,num:!0,steps:10,evt:"shapeburstupdate",allowed:" "}})),n.iwrap.appendChild(l({label:{type:"a",c:s.particleSize},input:{vslider:!0,id:"particleSize",evtparam:"particleSize",min:1,max:100,num:!0,steps:1,evt:"shapeburstparamupdate",allowed:" "}})),n.iwrap.appendChild(l({label:{type:"a",c:s.randomness},input:{vslider:!0,id:"randomness",evtparam:"randomness",min:1,max:100,num:!0,steps:1,evt:"shapeburstparamupdate",allowed:" "}})),n.iwrap.appendChild(l({label:{type:"a",c:s.speed},input:{vslider:!0,id:"parSpeed",evtparam:"parSpeed",min:.25,max:4,num:!0,steps:.25,evt:"shapeburstparamupdate",allowed:" "}})),c.iwrap.appendChild(l({label:{type:"a",c:s.explosionRadius},input:{vslider:!0,id:"explosionRadius",evtparam:"explosionRadius",min:0,max:100,num:!0,steps:1,evt:"shapeburstparamupdate",allowed:" "}})),c.iwrap.appendChild(l({label:{type:"a",c:s.maxBurstDur},input:{vslider:!0,id:"maxBurstDur",evtparam:"maxBurstDur",min:0,max:25,num:!0,steps:1,evt:"shapeburstparamupdate",allowed:" "}})),c.iwrap.appendChild(l({label:{type:"a",c:s.explosionPower},input:{vslider:!0,id:"explosionPower",evtparam:"explosionPower",min:0,max:100,num:!0,steps:1,evt:"shapeburstparamupdate",allowed:" "}})),c.iwrap.appendChild(l({label:{type:"a",c:s.speed},input:{vslider:!0,id:"interSpeed",evtparam:"interSpeed",min:1,max:5,num:!0,steps:1,evt:"shapeburstparamupdate",allowed:" "}})),c.iwrap.appendChild(l({label:{type:"a",c:s.sizeChOnInter},input:{id:"sizeChOnInter",type:"checkbox",evt:"shapeburstparamupdate",evtparam:"sizeChOnInter",ds:{showhide:".sizeChOnInter_showhide",showhidedep:"true"}},cN:""})),m.iwrap.appendChild(l({label:{type:"a",c:s.transitionON},input:{id:"transitionON",type:"checkbox",evt:"shapeburstupdate",evtparam:"transitionON",ds:{showhide:".transitionON_showhide",showhidedep:"true"}},cN:""})),m.iwrap.appendChild(l({label:{type:"a",c:s.transitionAnimTime},input:{vslider:!0,id:"transitionAnimTime",evtparam:"transitionAnimTime",min:10,max:100,num:!0,steps:1,evt:"shapeburstupdate",allowed:" "},cN:"transitionON_showhide"})),h.iwrap.appendChild(l({label:{type:"a",c:s.fxOn},input:{id:"fxOn",type:"checkbox",evt:"shapeburstparamupdate",evtparam:"fxOn",ds:{showhide:".fxOn_showhide",showhidedep:"true"}},cN:""})),h.iwrap.appendChild(l({label:{type:"a",c:s.amount},input:{vslider:!0,id:"blurScale",evtparam:"blurScale",min:0,max:100,num:!0,steps:1,evt:"shapeburstparamupdate",allowed:" "},cN:"fxOn_showhide"})),h.iwrap.appendChild(l({label:{type:"a",c:s.fxOnlyOnInter},input:{id:"fxOnlyOnInter",type:"checkbox",evt:"shapeburstparamupdate",evtparam:"fxOnlyOnInter",ds:{showhide:".fxOnlyOnInter_showhide",showhidedep:"true"}},cN:"fxOn_showhide"})),e.appendChild(r.wrap),e.appendChild(n.wrap),e.appendChild(c.wrap),e.appendChild(m.wrap),e.appendChild(h.wrap),t.forms.layergeneral[0].appendChild(e),t.forms.tfw=document.getElementById("wpsaddon_textFontWeight"),window.I=t.forms}(),RVS.DOC.on("selectLayersDone.shapeburst",u.layerSelected),RVS.DOC.on("shapeburst_ajax_calls",u.shapeburst_ajax_calls),RVS.DOC.on("resize","._lc_type_shape",(function(e,t){var a=this.getAttribute("data-uid");null!=a&&null!=a&&null!=RVS.L[a]&&"shapeburst"===RVS.L[a].subtype&&(i[a]&&"function"==typeof i[a].kill&&i[a].kill(),i[a]=tpGS.gsap.delayedCall(.3,(function(){m(a)})))})),RVS.DOC.on("layerSizeChange",(function(e,t){m(RVS.selLayers[0])})),RVS.DOC.on("screenSelectorChanged",(function(e,t){for(var a in RVS.L)"shapeburst"==RVS.L[a].subtype&&m(RVS.L[a].uid)})),RVS.DOC.on("builderInitialised",(async(e,t)=>{for(id in RVS.L)if(RVS.L.hasOwnProperty(id)&&"shapeburst"===RVS.L[id].subtype){if(RVS.F.sBurstloadAllNeededFonts(id),"image"==RVS.L[id].addOns[a].imgSource)return;await h(RVS.L[id].addOns[a].textFont,RVS.L[id].addOns[a].textFontWeight,(()=>{m(id)}))}})),RVS.DOC.on("updateshapeburstbg",u.updateShapeBurst),RVS.DOC.on("updateFontFamilySBurst",(async function(e,s){if(void 0!==s){var i=RVS.selLayers[0];RVS.F.sBurstloadAllNeededFonts(i),"labels"===s&&(RVS.L[i].addOns[a].textFontWeight=function(e,t,a,s){var i=!1,d="";for(var r in RVS.LIB.FONTS)if(RVS.LIB.FONTS.hasOwnProperty(r)){var n=RVS.LIB.FONTS[r];if(n.label===t)for(var l=0;l<e.options.length;l++){var o=e.options[l].value;e.options[l].disabled=!(jQuery.inArray(o,n.variants)>=0||"websafe"===n.type),d=""!==d||e.options[l].disabled?d:o,""+a==""+o&&e.options[l].disabled&&(i=!0)}}return 1==i&&(e.value=d,a=d),a}(t.forms.tfw,RVS.L[i].addOns[a].textFont,RVS.L[i].addOns[a].textFontWeight)),RVS.F.updateEasyInputs({container:t.forms.layer,path:RVS.S.slideId+".layers.",trigger:"init",multiselection:!0}),await h(RVS.L[i].addOns[a].textFont,RVS.L[i].addOns[a].textFontWeight,(()=>{m(i)}))}})),RVS.DOC.on("click",".getSVGFromLibrary",(function(){RVS.F.openObjectLibrary({types:["svgs","svgcustom"],filter:"all",selected:["svgs"],success:{icon:"updateWPfromSVG"}})})),RVS.DOC.on("shapeburstupdate",(function(e,t){if(void 0!==t&&void 0!==t.val){var a=RVS.selLayers[0];if("imgSource"===t.eventparam){RVS.F.openBackupGroup({id:"source",icon:"snowing",lastkey:"layer"});var s=RVS.S.slideId+".layers."+a+".addOns.revslider-shapeburst-addon.";"image"==t.val&&RVS.F.updateSliderObj({path:s+"colorTrue",val:!1}),"text"==t.val&&RVS.F.updateSliderObj({path:s+"colorTrue",val:!0}),RVS.F.closeBackupGroup({id:"source"})}requestAnimationFrame((function(){m(a),void 0!==t.eventparam&&RVS.F.updateEasyInputs({container:jQuery("#form_layer_revslider-shapeburst-addon"),path:RVS.S.slideId+".layers.",trigger:"init",multiselection:!0})}))}})),RVS.DOC.on("shapeburstparamupdate",(function(e,t){if(void 0!==t&&void 0!==t.val){var a=RVS.selLayers[0];requestAnimationFrame((function(){switch(t.eventparam){case"particleSize":case"randomness":case"luminaBoost":case"parSpeed":case"interSpeed":case"explosionRadius":case"maxBurstDur":case"explosionPower":case"blurScale":RVS._R.shapeBurstUtils.updateLayer(RVS.S.slideId,a,t.eventparam,parseFloat(t.val));break;case"sizeChOnInter":case"colorTrue":case"fxOn":case"fxOnlyOnInter":RVS._R.shapeBurstUtils.updateLayer(RVS.S.slideId,a,t.eventparam,t.val)}}))}})),RVS.DOC.on("layerSizePreset",c),RVS.DOC.on("layerAlignChanged",c),RVS.DOC.on("layerAdded",(function(e,t){if(void 0!==t&&void 0!==t.params&&void 0!==t.params.subsubtype&&t.params.subsubtype.indexOf("shapeburst")>=0&&void 0!==presets&&void 0!==presets[t.params.subsubtype]&&(RVS.L[t.layerid]=jQuery.extend(!0,RVS.L[t.layerid],presets[t.params.subsubtype])),void 0!==t.params.duplicateId&&RVS.L[t.layerid]&&"shapeburst"==RVS.L[t.layerid].subtype)m(t.layerid);else if(void 0!==t.params.duplicateId&&RVS.L[t.layerid]&&("group"===RVS.L[t.layerid].type||"row"===RVS.L[t.layerid].type||"column"===RVS.L[t.layerid].type))for(var a in RVS.L)RVS.L.hasOwnProperty(a)&&"shapeburst"===RVS.L[a].subtype&&m(a)})),RVS.DOC.on("SceneUpdatedAfterRestore",(function(e,t){void 0!==t&&void 0!==t.todo&&t.todo.LayerSettings&&void 0!==t.todo.layer&&void 0!==RVS.L[t.todo.layer]&&RVS.L[t.todo.layer].subtype})),RVS.DOC.on("slideFocusFunctionEnd",(function(){requestAnimationFrame((function(){for(var e in 1==RVS.S.shapeburstAddonFirstInitialisation&&buildAllDataStructure(),RVS._R.shapeBurstUtils.layers={},RVS.L)RVS.L.hasOwnProperty(e)&&"shapeburst"===RVS.L[e].subtype&&m(e)}))})),t.forms.layergeneral.find(".tos2.nosearchbox").ddTP({placeholder:s.placeholder_select}),RVS.F.initTpColorBoxes(t.forms.layergeneral.find(".my-color-field")),RVS.F.initOnOff(t.forms.layergeneral),delete t.forms.layergeneral,function(){if(revslider_shapeburst_addon.hasOwnProperty("help")&&"undefined"!=typeof HelpGuide){var t={slug:"shapeburst_addon"};e.extend(!0,t,revslider_shapeburst_addon.help),HelpGuide.add(t)}}(),RVS.S.layerIcons=jQuery.extend(!0,RVS.S.layerIcons,{shapeburst:"snowing"}),RVS.F.extendLayerTypes({icon:"snowing",type:"shape",subtype:"shapeburst",alias:"ShapeBurst",subdrop:!1,extension:{idle:{backgroundColor:"rgba(0, 0, 0, 1.0)"},alias:"Shape Burst",addOns:{"revslider-shapeburst-addon":RVS._R.shapeBurstBuild.getBasics()},runtime:{internalClass:"tp-shape tp-shapewrapper tp-shapeburst"}}}),t.initialised=!0,RVS.DOC.trigger("slideFocusFunctionEnd")}}));var u={layerSelected:function(){var s,i=RVS.selLayers.length;if(i){s=!0;for(var d=0;d<i;d++)if("shapeburst"!==RVS.L[RVS.selLayers[d]].subtype){s=!1;break}}if(1===i){var r=document.querySelector("#shapeburst_templates"),n=r.querySelectorAll(".s_s_preset");for(d=0;d<n.length;d++)n[d].classList.remove("s_s_preset");RVS.L[RVS.selLayers[0]].addOns[a].preset&&r.querySelector("[data-key="+RVS.L[RVS.selLayers[0]].addOns[a].preset+"]").classList.add("s_s_preset")}if(s){if(t.forms.layericon.css("display","inline-block"),t.forms.layer.css("visibility","visible"),0!==RVS.selLayers.length&&void 0!==RVS.L[RVS.selLayers[0]]){var l=RVS.selLayers[0];RVS.LIB.RSSB&&RVS.LIB.RSSB[l]&&RVS.LIB.RSSB[l].shapeBurst?u.updateImageThumb():u.updateShapeBurst()}}else t.forms.layericon.css("display","none"),t.forms.layer.css("visibility","hidden"),e("#gst_layer_revslider-shapeburst-addon").hasClass("selected")&&i>=1&&e("#gst_layer_1").trigger("click")},updateImageThumb:function(){1===RVS.selLayers.length&&"shapeburst"===RVS.L[RVS.selLayers[0]].subtype&&(void 0===RVS.ENV.SHAPEBURST_URL&&(RVS.ENV.SHAPEBURST_URL="//"+window.location.host+"/wp-content/plugins/revslider-shapeburst-addon/"),document.getElementById("shapeburstbg_svg").style.backgroundImage="default"==RVS.L[RVS.selLayers[0]].addOns[a].parbackground?'url("'+RVS.ENV.SHAPEBURST_URL+"/sr6/lib/img.png)":'url("'+RVS.L[RVS.selLayers[0]].addOns[a].parbackground+'")')},updateShapeBurst:function(){u.updateImageThumb(),requestAnimationFrame((function(){1===RVS.selLayers.length&&"shapeburst"===RVS.L[RVS.selLayers[0]].subtype&&m(RVS.selLayers[0])}))},presets:function(e,i){RVS.F.openBackupGroup({id:"sburst",txt:s.parpres,icon:"touch_app"});var d="true"===i||!0===i?t.customs[e].preset:t.defaults[e].preset;d=jQuery.extend(RVS._R.shapeBurstBuild.getBasics(),JSON.parse(d)),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+RVS.selLayers[0]+".addOns."+a,val:d}),RVS.F.closeBackupGroup({id:"sburst"}),RVS.F.updateEasyInputs({container:jQuery("#form_layer_revslider-shapeburst-addon"),path:RVS.S.slideId+".layers.",trigger:"init",multiselection:!0});for(var r=document.querySelector("#shapeburst_templates"),n=r.querySelectorAll(".s_s_preset"),l=0;l<n.length;l++)n[l].classList.remove("s_s_preset");r.querySelector("[data-key="+e+"]").classList.add("s_s_preset"),RVS.L[RVS.selLayers[0]]&&(RVS.L[RVS.selLayers[0]].addOns[a].preset=e),u.updateShapeBurst()},shapeburst_ajax_calls:function(s,i){var d;"overwrite"!==i.mode&&"create"!==i.mode||(d=e.extend(!0,{},RVS.SLIDER[RVS.S.slideId].slide.addOns[a])),"overwrite"!==i.mode&&"rename"!=i.mode||i.pl.data("key"),"rename"===i.mode&&(d=t.customs[i.key].preset,t.customs[i.key].title=i.newname),"delete"===i.mode?RVS.F.ajaxRequest("delete_custom_templates_"+a,{id:i.key},(function(e){e.success&&(delete t.customs[i.key],i.pl.remove())})):RVS.F.ajaxRequest("save_custom_templates_"+a,{id:i.key,obj:{title:i.newname,preset:d}},(function(e){e.success&&(t.customs[e.data.id]={title:i.newname,preset:d},"create"===i.mode&&(i.element[0].dataset.key=e.data.id),"rename"===i.mode&&i.pl.find(".cla_custom_name").text(i.newname))}))}};function c(){for(var e in RVS.selLayers)RVS.L.hasOwnProperty(e)&&"shapeburst"===RVS.L[RVS.selLayers[e]].subtype&&m(RVS.selLayers[e])}function m(e){RVS.L[e]&&"shapeburst"!==RVS.L[e].subtype||RVS._R.shapeBurstUtils.initBackendLayer(e)}async function h(e,t,a){"undefined"==typeof _tpt&&await new Promise((e=>{let t=document.createElement("script");t.src=RVS.ENV.plugin_url+"public/js/libs/tptools.js",t.onload=e,document.head.append(t)})),await _tpt.checkFontLoaded(e,t,null,3e3).then(a)}RVS.F.sBurstloadAllNeededFonts=function(e){var t,s=[];void 0!==(t=function(e){if(void 0!==e&&""!==e)return RVS.F.loadSingleFont({family:e.replace(/\ /g,"_"),font:e})}(RVS.L[e].addOns[a].textFont))&&s.push(t),RVS.F.do_google_font_load(s,{silent:!0})}}(jQuery);